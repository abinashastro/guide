<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro Abhinash | Numerology Expert</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00f2ff; --gold: #ffd700; --danger: #ff4d4d; --success: #4ade80; --card-bg: rgba(255, 255, 255, 0.08); }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: #020617; color: white; text-align: center; padding-bottom: 50px; }
        header { background: rgba(0, 0, 0, 0.9); padding: 15px; border-bottom: 2px solid var(--primary); font-weight: 700; }
        .container { max-width: 600px; margin: auto; padding: 15px; }
        .box { background: var(--card-bg); backdrop-filter: blur(10px); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.1); }
        input, select { padding: 12px; width: 85%; border-radius: 10px; border: none; margin-bottom: 10px; font-weight: bold; }
        .calc-btn { padding: 15px 40px; border: none; border-radius: 50px; background: linear-gradient(45deg, var(--primary), #0066ff); color: white; font-weight: bold; cursor: pointer; }
        
        /* Grid Styling */
        .loshu-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-width: 220px; margin: 15px auto; }
        .grid-cell { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; height: 60px; display: flex; flex-direction: column; align-items: center; justify-content: center; font-weight: bold; }
        .filled { border-color: var(--gold); background: rgba(255,215,0,0.1); color: var(--gold); box-shadow: 0 0 10px rgba(255,215,0,0.2); }
        .cell-num { font-size: 1.4rem; }
        .cell-label { font-size: 8px; text-transform: uppercase; margin-top: 2px; }

        /* Trait & List Styling */
        .trait-list { text-align: left; padding: 0; list-style: none; }
        .trait-item { background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; margin-bottom: 8px; border-left: 4px solid var(--primary); font-size: 13px; }
        .miss-item { border-left-color: var(--danger); opacity: 0.8; }
        
        .compat-badge { display: inline-block; padding: 5px 15px; border-radius: 20px; font-weight: bold; margin-top: 5px; }
        .good { background: rgba(74, 222, 128, 0.2); color: var(--success); }
        .bad { background: rgba(255, 77, 77, 0.2); color: var(--danger); }
        
        #personalContent { display: none; }
    </style>
</head>
<body>

<header>ASTRO ABHINASH üîØ</header>

<div class="container">
    <div class="box">
        <input type="text" id="userName" placeholder="Full Name">
        <input type="date" id="dob">
        <select id="gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select><br>
        <button class="calc-btn" onclick="calculateMagic()">Generate Report</button>
    </div>

    <div id="personalContent">
        <div class="box">
            <h2>Your Magic Grid</h2>
            <div class="loshu-grid" id="gridUI">
                <div class="grid-cell" id="c4"><span class="cell-num">4</span><span class="cell-label">Wealth</span></div>
                <div class="grid-cell" id="c9"><span class="cell-num">9</span><span class="cell-label">Fame</span></div>
                <div class="grid-cell" id="c2"><span class="cell-num">2</span><span class="cell-label">Love</span></div>
                <div class="grid-cell" id="c3"><span class="cell-num">3</span><span class="cell-label">Health</span></div>
                <div class="grid-cell" id="c5"><span class="cell-num">5</span><span class="cell-label">Balance</span></div>
                <div class="grid-cell" id="c7"><span class="cell-num">7</span><span class="cell-label">Children</span></div>
                <div class="grid-cell" id="c8"><span class="cell-num">8</span><span class="cell-label">Wisdom</span></div>
                <div class="grid-cell" id="c1"><span class="cell-num">1</span><span class="cell-label">Career</span></div>
                <div class="grid-cell" id="c6"><span class="cell-num">6</span><span class="cell-label">Travel</span></div>
            </div>
        </div>

        <div class="box">
            <h2>Compatibility Test</h2>
            <div style="display: flex; justify-content: space-around; font-size: 14px;">
                <div>Mulank: <b id="mVal"></b></div>
                <div>Bhagyank: <b id="bVal"></b></div>
                <div>Name: <b id="nVal"></b></div>
            </div>
            <div id="compatStatus" class="compat-badge">--</div>
        </div>

        <div class="box">
            <h2 style="color:var(--success)">‚úÖ Strengths (Available)</h2>
            <div id="strengthList" class="trait-list"></div>
        </div>

        <div class="box">
            <h2 style="color:var(--danger)">‚ùå Challenges (Missing)</h2>
            <div id="missingList" class="trait-list"></div>
        </div>
    </div>
</div>

<script>
    const chaldean = { a:1,i:1,j:1,q:1,y:1, b:2,k:2,r:2, c:3,g:3,l:3,s:3, d:4,m:4,t:4, e:5,h:5,n:5,x:5, u:6,v:6,w:6, o:7,z:7, f:8,p:8 };
    const traits = {
        1: "Strong Career & Communication. You are a natural leader.",
        2: "Emotional Balance & Good Relationships. You are sensitive.",
        3: "Knowledge & Creativity. You have great imagination.",
        4: "Discipline & Wealth Management. You are hard-working.",
        5: "Stability & Business Sense. You balance your life well.",
        6: "Luxury & Helpful Friends. You attract comfort.",
        7: "Research & Mental Strength. You think deeply.",
        8: "Practical Wisdom & Finance. You are very organized.",
        9: "Fame & Humanity. You have high energy and courage."
    };
    const missingTraits = {
        1: "Difficulty in expressing yourself. Low confidence in career.",
        2: "Emotional instability. Problems in partnership.",
        3: "Lack of focus. Struggle in higher education.",
        4: "Disorganized life. Wealth doesn't stay long.",
        5: "Restlessness. Difficulty in making decisions.",
        6: "Lack of luxury. Friends may not help when needed.",
        7: "Disturbed peace. Lack of spiritual connection.",
        8: "Financial struggles. Decisions based on emotions.",
        9: "Low energy. Lack of name and fame in society."
    };

    const relationship = {
        1: { friends: [2,3,5,9], enemies: [8] },
        2: { friends: [1,3,5], enemies: [4,8,9] },
        3: { friends: [1,2,5,7,9], enemies: [6] },
        4: { friends: [5,6,7,8], enemies: [1,2,9] },
        5: { friends: [1,3,4,6,7,8,9], enemies: [2] },
        6: { friends: [4,5,7,8], enemies: [3] },
        7: { friends: [3,4,5,6], enemies: [8,9] },
        8: { friends: [4,5,6,7], enemies: [1,2,9] },
        9: { friends: [1,2,3,5], enemies: [4,7,8] }
    };

    function reduce(n) { while (n > 9) n = String(n).split('').reduce((a, b) => +a + +b, 0); return n; }

    function calculateMagic() {
        const name = document.getElementById("userName").value;
        const dobVal = document.getElementById("dob").value;
        if (!dobVal) return;

        let d = new Date(dobVal);
        let day = d.getDate(), month = d.getMonth() + 1, year = d.getFullYear();
        let m = reduce(day), b = reduce(day + month + year);
        let nT = 0; name.toLowerCase().split('').forEach(c => nT += (chaldean[c] || 0));
        let n = reduce(nT);

        document.getElementById("personalContent").style.display = "block";
        document.getElementById("mVal").innerText = m;
        document.getElementById("bVal").innerText = b;
        document.getElementById("nVal").innerText = n;

        // Compatibility Test
        let isEnemy = relationship[m].enemies.includes(b) || relationship[m].enemies.includes(n);
        let status = document.getElementById("compatStatus");
        status.innerText = isEnemy ? "Anti-Vibration (Conflicts Found)" : "Harmonious Vibration (Great Match!)";
        status.className = "compat-badge " + (isEnemy ? "bad" : "good");

        // Loshu Grid Fill
        let gridStr = day.toString() + month.toString() + year.toString() + m.toString() + b.toString();
        let sList = "", mList = "";
        
        for(let i=1; i<=9; i++) {
            let cell = document.getElementById("c"+i);
            if(gridStr.includes(i)) {
                cell.classList.add("filled");
                sList += `<div class="trait-item"><b>Number ${i}:</b> ${traits[i]}</div>`;
            } else {
                cell.classList.remove("filled");
                mList += `<div class="trait-item miss-item"><b>Missing ${i}:</b> ${missingTraits[i]}</div>`;
            }
        }
        document.getElementById("strengthList").innerHTML = sList;
        document.getElementById("missingList").innerHTML = mList;
    }
</script>
</body>
</html>
