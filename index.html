<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abinash Astro Guide | Premium Destiny Decoding</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Cinzel:wght@700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <style>
        body { font-family: 'Outfit', sans-serif; background: #02040a; color: #ffffff; overflow-x: hidden; }
        .font-serif { font-family: 'Cinzel', serif; }
        .gold-text { background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .glass-card { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(25px); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 2.5rem; }
        .btn-magic { background: linear-gradient(45deg, #d97706, #f59e0b); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .btn-magic:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 20px 40px rgba(217, 119, 6, 0.3); }
        .floating { animation: float 6s ease-in-out infinite; }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-20px); } 100% { transform: translateY(0px); } }
        .pulse-gold { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(191, 149, 63, 0.4); } 70% { box-shadow: 0 0 0 15px rgba(191, 149, 63, 0); } 100% { box-shadow: 0 0 0 0 rgba(191, 149, 63, 0); } }
    </style>
</head>
<body>

    <div class="fixed inset-0 -z-10 overflow-hidden">
        <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-purple-900/20 blur-[120px] rounded-full"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-amber-900/20 blur-[120px] rounded-full"></div>
    </div>

    <header class="p-8 flex justify-between items-center max-w-2xl mx-auto">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 glass-card flex items-center justify-center border-amber-500/30">âœ¨</div>
            <div>
                <h1 class="font-serif text-lg tracking-[0.2em] gold-text leading-none">ABINASH</h1>
                <p class="text-[8px] tracking-[0.5em] text-gray-500 uppercase">Astro Guide</p>
            </div>
        </div>
        <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
            <span class="text-[10px] text-gray-400 uppercase tracking-widest font-bold">12 Experts Live</span>
        </div>
    </header>

    <main class="max-w-xl mx-auto px-6 pb-20">
        <div class="text-center mb-12">
            <h2 class="text-5xl font-semibold mb-4 leading-[1.1] tracking-tight">Your Destiny, <br> <span class="gold-text">Decoded.</span></h2>
            <p class="text-gray-400 text-sm max-w-[280px] mx-auto leading-relaxed italic">"Not just predictions, but a roadmap for your soul's journey."</p>
        </div>

        <div class="glass-card p-10 relative shadow-2xl border-t border-white/10">
            <div class="space-y-6">
                <div class="group">
                    <label class="block text-[10px] uppercase tracking-[0.2em] text-amber-500 font-bold mb-3 transition-all group-focus-within:text-white">Full Name</label>
                    <input type="text" id="nameInp" placeholder="Enter name" class="w-full bg-white/5 p-5 rounded-[1.5rem] border border-white/10 outline-none focus:border-amber-500 transition-all placeholder:text-gray-700">
                </div>
                <div>
                    <label class="block text-[10px] uppercase tracking-[0.2em] text-amber-500 font-bold mb-3">Birth Date</label>
                    <input type="date" id="dobInp" class="w-full bg-white/5 p-5 rounded-[1.5rem] border border-white/10 outline-none focus:border-amber-500 transition-all text-gray-400">
                </div>
                <button onclick="processDestiny()" class="w-full btn-magic text-black font-black py-5 rounded-[1.5rem] uppercase tracking-[0.2em] text-[10px] mt-4 pulse-gold">
                    Start Decoding My Life ðŸ”®
                </button>
            </div>
        </div>

        <div class="mt-12 text-center italic opacity-60">
            <p class="text-xs">"Abinash's KP analysis changed my career perspective in just one session."</p>
            <div class="flex justify-center gap-1 mt-2 text-amber-500 text-[10px]">â˜…â˜…â˜…â˜…â˜…</div>
        </div>
    </main>

    <div id="destinyModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-6">
        <div class="absolute inset-0 bg-black/95 backdrop-blur-3xl"></div>
        <div class="glass-card max-w-sm w-full p-10 text-center relative z-10 border-amber-500/30 overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-right from-transparent via-amber-500 to-transparent"></div>
            
            <div id="numberDisplay" class="text-9xl font-serif gold-text font-bold mb-2 floating">0</div>
            <h3 id="nameDisplay" class="text-2xl font-bold mb-2 tracking-tight"></h3>
            <p id="insightTitle" class="text-amber-500 text-[10px] uppercase tracking-widest font-bold mb-6 italic"></p>
            
            <div class="bg-white/5 p-6 rounded-[2rem] mb-8 border border-white/10">
                <p id="insightText" class="text-sm text-gray-300 leading-relaxed italic"></p>
            </div>

            <div id="smartUpsell" class="bg-amber-500/10 border border-amber-500/30 p-4 rounded-2xl mb-6 text-left">
                <p class="text-[9px] text-amber-500 font-bold uppercase mb-1">Recommended for You:</p>
                <p id="upsellText" class="text-xs text-white leading-tight font-medium"></p>
            </div>

            <div class="space-y-4">
                <a id="waLink" href="#" class="block w-full btn-magic text-black font-bold py-4 rounded-xl text-[10px] uppercase tracking-widest text-center">Consult with Abinash</a>
                <button onclick="location.reload()" class="text-gray-600 text-[10px] uppercase tracking-widest hover:text-white transition">Re-calculate</button>
            </div>
        </div>
    </div>

    <script>
        // --- 1. FIREBASE SETUP ---
        const firebaseConfig = {
            apiKey: "AIzaSyC0yF3kviJ6U-rdOMUyAOOQyTgSFoWG6co",
            authDomain: "astro-c7b1e.firebaseapp.com",
            projectId: "astro-c7b1e",
            storageBucket: "astro-c7b1e.firebasestorage.app",
            messagingSenderId: "885607895929",
            appId: "1:885607895929:web:8f1bf85f7d8aab1b1d55a8"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // --- 2. DATA & RECOMMENDATIONS ---
        const astroData = {
            1: { title: "The Solar King", desc: "A born leader. Sun's energy flows through you. Your path is meant for authority.", upsell: "Since Sun rules you, your Career Timing is crucial. Get your Career Report." },
            2: { title: "The Mystic Soul", desc: "Intuitive and deep. Moon's emotions guide your creativity. You feel the unseen.", upsell: "Emotional balance is key. Check your Relationship Compatibility." },
            3: { title: "The Wise Guru", desc: "Jupiter's child. Knowledge and wisdom follow your footsteps. You are a natural guide.", upsell: "Maximize your abundance. Get your Financial Wealth Analysis." },
            4: { title: "The Architect", desc: "Master of stability. Rahu's unconventional focus makes you a disruptor.", upsell: "Sudden changes are your life. Get your Rahu-Ketu Transit Report." },
            5: { title: "The Free Spirit", desc: "Mercury's quick wit. Communication and travel are your natural assets.", upsell: "Your speech is your power. Check how to use it for Business Success." },
            6: { title: "The Nurturer", desc: "Venus's luxury. Beauty, love, and comfort follow you wherever you go.", upsell: "Luxury and Love are your destiny. Get your Marriage & Luxury Report." },
            7: { title: "The Seeker", desc: "Ketu's spiritual analytical mind. You find logic in mysticism and god.", upsell: "Spiritual growth awaits. Get your Personalized Spiritual Path report." },
            8: { title: "The Powerhouse", desc: "Saturn's discipline. Success comes through hard work, but it's permanent.", upsell: "Saturn tests you. Get your Sade Sati & Remedial Report now." },
            9: { title: "The Warrior", desc: "Mars's courage. Fearless heart and protective energy for everyone.", upsell: "Energy management is needed. Check your Health & Vitality report." }
        };

        // --- 3. MAIN LOGIC ---
        function processDestiny() {
            const name = document.getElementById('nameInp').value;
            const dob = document.getElementById('dobInp').value;

            if(!name || !dob) { alert("Please share your details, Seeker."); return; }

            let digits = dob.replace(/-/g, '');
            let sum = digits.split('').reduce((a, b) => parseInt(a) + parseInt(b), 0);
            while (sum > 9) sum = sum.toString().split('').reduce((a, b) => parseInt(a) + parseInt(b), 0);

            // SAVE TO DATABASE
            db.collection("leads").add({
                name: name,
                dob: dob,
                magicNumber: sum,
                date: new Date().toISOString()
            }).then(() => {
                // UPDATE MODAL
                document.getElementById('numberDisplay').innerText = sum;
                document.getElementById('nameDisplay').innerText = `Namaste, ${name}`;
                document.getElementById('insightTitle').innerText = astroData[sum].title;
                document.getElementById('insightText').innerText = astroData[sum].desc;
                document.getElementById('upsellText').innerText = astroData[sum].upsell;
                
                // WHATSAPP LINK
                const waMsg = `Hi Abinash! My name is ${name}, my Magic Number is ${sum}. I want to know about: ${astroData[sum].upsell}`;
                document.getElementById('waLink').href = `https://wa.me/91XXXXXXXXXX?text=${encodeURIComponent(waMsg)}`;

                document.getElementById('destinyModal').classList.remove('hidden');
            });
        }
    </script>
</body>
</html>
