<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro Abhinash | Premium Destiny AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00f2ff; --gold: #ffd700; --bg-dark: #050b1a; --card-glass: rgba(255, 255, 255, 0.05); }
        body { margin: 0; font-family: 'Outfit', sans-serif; background: radial-gradient(circle at top right, #0a1931, #050b1a); color: white; min-height: 100vh; }
        header { background: rgba(0, 0, 0, 0.8); padding: 18px; border-bottom: 1px solid var(--primary); font-weight: 800; color: var(--primary); text-align: center; letter-spacing: 2px; }
        .container-custom { max-width: 500px; margin: auto; padding: 20px; }
        .box { background: var(--card-glass); border-radius: 24px; padding: 25px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); }
        input, select { padding: 15px; width: 100%; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 15px; background: rgba(0,0,0,0.3); color: white; outline: none; }
        .calc-btn { padding: 18px; border: none; border-radius: 15px; background: linear-gradient(135deg, var(--primary), #0066ff); color: white; font-weight: 700; width: 100%; text-transform: uppercase; cursor: pointer; transition: 0.3s; }
        .calc-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,242,255,0.3); }
        .destiny-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px; }
        .destiny-card { background: rgba(255,255,255,0.03); padding: 12px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .num-val { font-size: 1.5rem; font-weight: 800; color: var(--primary); display: block; }
        .num-label { font-size: 9px; color: var(--gold); text-transform: uppercase; }
        .ritual-item { background: rgba(255,255,255,0.05); padding: 14px; border-radius: 14px; margin-bottom: 10px; border-left: 4px solid var(--primary); font-size: 14px; text-align: left; display: flex; align-items: center; }
        .ritual-item i { margin-right: 12px; color: var(--gold); font-size: 1.1rem; }
        .blur-lock { filter: blur(18px); pointer-events: none; user-select: none; transition: 0.5s ease; }
        .unlock-box { position: fixed; bottom: 0; left: 0; right: 0; background: #020617; padding: 30px; border-top: 3px solid var(--gold); z-index: 1000; display: none; border-radius: 30px 30px 0 0; box-shadow: 0 -10px 30px rgba(0,0,0,0.8); }
        #personalContent { display: none; }
    </style>
</head>
<body>

<header>âœ¨ ASTRO ABHINASH</header>

<div class="container container-custom">
    <div class="box shadow">
        <h6 class="text-center mb-3 text-muted small">ENTER BIRTH DETAILS</h6>
        <input type="text" id="userName" placeholder="Apna Pura Naam Likhein">
        <div class="row g-2">
            <div class="col-7"><input type="date" id="dob"></div>
            <div class="col-5">
                <select id="gender"><option value="male">Male</option><option value="female">Female</option></select>
            </div>
        </div>
        <button class="calc-btn" onclick="revealDestiny()">Reveal My Destiny <i class="fa-solid fa-bolt ms-2"></i></button>
    </div>

    <div id="personalContent">
        <div class="box">
            <h6 class="text-secondary small mb-3">DESTINY CORE NUMBERS</h6>
            <div class="destiny-grid">
                <div class="destiny-card"><span class="num-val" id="resM">0</span><span class="num-label">Mulank</span></div>
                <div class="destiny-card"><span class="num-val" id="resB">0</span><span class="num-label">Bhagyank</span></div>
                <div class="destiny-card"><span class="num-val" id="resN">0</span><span class="num-label">Name No.</span></div>
            </div>
            <h6 class="text-secondary small mt-4 mb-3">YOUR PERSONAL CYCLES</h6>
            <div class="destiny-grid">
                <div class="destiny-card"><span class="num-val text-white" id="resDay">0</span><span class="num-label">Daily</span></div>
                <div class="destiny-card"><span class="num-val text-white" id="resMonth">0</span><span class="num-label">Monthly</span></div>
                <div class="destiny-card"><span class="num-val text-white" id="resYear">0</span><span class="num-label">Yearly</span></div>
            </div>
        </div>
        <div id="ritualContainer"></div>
    </div>
</div>

<div class="unlock-box" id="unlockBox">
    <h4 class="fw-800 text-center text-white">ðŸ”’ Premium Rituals Locked</h4>
    <p class="text-center text-secondary small">Pay â‚¹49 to unlock Color Power, Daan and special Remedies</p>
    <button class="calc-btn" id="unlockBtn" onclick="unlockReport()" style="background:var(--gold); color:black">Unlock Full Report</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
    const firebaseConfig = {
      apiKey: "AIzaSyC0yF3kviJ6U-rdOMUyAOOQyTgSFoWG6co",
      authDomain: "astro-c7b1e.firebaseapp.com",
      databaseURL: "https://astro-c7b1e-default-rtdb.firebaseio.com/", 
      projectId: "astro-c7b1e",
      storageBucket: "astro-c7b1e.firebasestorage.app",
      messagingSenderId: "885607895929",
      appId: "1:885607895929:web:8f1bf85f7d8aab1b1d55a8"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const activationData = {
        1: { name: "Sun (Surya)", color: "#FF8C00", mantra: "Om Suryaya Namah", tasks: ["Surya ko jal chadhao", "Papa ke pair chhuo", "Mirror mein bolo 'Main Leader Hun'", "Thoda sa Gud khao", "Pink ya Orange rumaal sath rakho", "Aaj kisi buzurg ko paani pilao"] },
        2: { name: "Moon (Chandra)", color: "#FFFFFF", mantra: "Om Chandraya Namah", tasks: ["Baith kar 1 glass paani piyo", "Maa ko pranam karo", "Pocket mein Chandi ka sikka rakho", "White rumaal sath rakho", "Aaj thoda dahi khao", "Shivling par jal chadhao"] },
        3: { name: "Jupiter (Guru)", color: "#FFD700", mantra: "Om Gurave Namah", tasks: ["Haldi ka tilak lagao", "Guru ya bade bhai ki izzat karo", "Bachon ko chocolate do", "Aaj kuch naya seekho", "Yellow kapda pehno", "Chana daal ka daan karo"] },
        4: { name: "Rahu", color: "#4B0082", mantra: "Main hi apna naseeb hun", tasks: ["Birds ko dana daalo", "Phone ki gallery saaf karo", "Aaj ka kaam paper par likho", "Blue color use karo", "Ghar ki chhat saaf rakho", "Grey rumaal pocket mein rakho"] },
        5: { name: "Mercury (Budh)", color: "#00FF7F", mantra: "Om Budhaya Namah", tasks: ["Green plants ko paani do", "Behen ya beti ko gift do", "1 Hari Elaichi chaba kar niklo", "Doston ko call karo", "Hara rang (Green) pehno", "Pakshiyon ko Moong daalo"] },
        6: { name: "Venus (Shukra)", color: "#FFB6C1", mantra: "Om Shukraya Namah", tasks: ["Achha Perfume lagao", "Saaf iron kiye kapde pehno", "Mirror mein dekh kar muskurao", "Partner ko sweet message do", "Aaj thoda Chawal daan karo", "Ghar mein White phool rakho"] },
        7: { name: "Ketu", color: "#708090", mantra: "Om Ketave Namah", tasks: ["Kutte (Dog) ko roti ya food do", "5 min bilkul shant baitho", "1 min khule aasmaan ko dekho", "Apni intuition par bharosa karo", "Grey ya Smoke color pehno", "Aaj kisi mandir mein namak daan karo"] },
        8: { name: "Saturn (Shani)", color: "#1E90FF", mantra: "Om Sham Shanicharaya Namah", tasks: ["Sabse mushkil kaam pehle karo", "Apne joote saaf rakho", "Helper ya gareeb ki madad karo", "Aaj jhooth mat bolo", "Kaale kutte ko roti do", "Aaj thoda Sarson tel daan karo"] },
        9: { name: "Mars (Mangal)", color: "#FF4500", mantra: "Om Mangalaya Namah", tasks: ["Exercise ya pushups karo", "Hanuman ji ko pranam karo", "Aaj gussa nahi karne ka wada karo", "Red color touch karo", "Lal Masoor daal daan karo", "Meethi roti kutte ko do"] }
    };

    const chaldean = { a:1,i:1,j:1,q:1,y:1, b:2,k:2,r:2, c:3,g:3,l:3,s:3, d:4,m:4,t:4, e:5,h:5,n:5,x:5, u:6,v:6,w:6, o:7,z:7, f:8,p:8 };
    function reduce(n) { return (n % 9 || 9); }
    function sumStr(s) { return s.toString().split('').reduce((a,b)=>a + (parseInt(b)||0), 0); }

    function revealDestiny() {
        const name = document.getElementById("userName").value;
        const dobVal = document.getElementById("dob").value;
        if(!name || !dobVal) return alert("Details bharo!");

        const d = new Date(dobVal);
        const m = reduce(d.getDate());
        const b = reduce(sumStr(d.getDate()) + sumStr(d.getMonth()+1) + sumStr(d.getFullYear()));
        let nSum = 0;
        for(let char of name.toLowerCase().replace(/\s/g, '')) { nSum += chaldean[char] || 0; }
        const nNo = reduce(nSum);

        const now = new Date();
        const pYear = reduce(m + reduce(d.getMonth()+1) + reduce(sumStr(now.getFullYear())));
        const pMonth = reduce(pYear + (now.getMonth() + 1));
        const pDay = reduce(pMonth + now.getDate());

        document.getElementById("resM").innerText = m;
        document.getElementById("resB").innerText = b;
        document.getElementById("resN").innerText = nNo;
        document.getElementById("resDay").innerText = pDay;
        document.getElementById("resMonth").innerText = pMonth;
        document.getElementById("resYear").innerText = pYear;

        const p = activationData[m];
        document.getElementById("ritualContainer").innerHTML = `
            <div class="box shadow" style="border-top: 4px solid ${p.color}">
                <h5 class="text-center" style="color:${p.color}">${p.name} Activation</h5>
                <p class="text-center small text-muted mb-4">Master Rituals for Success</p>
                ${p.tasks.map(t => `<div class="ritual-item"><i class="fa-solid fa-circle-check"></i> ${t}</div>`).join('')}
                <div class="text-center mt-3 p-3" style="background:rgba(0,0,0,0.2); border-radius:15px; border:1px dashed ${p.color}">
                    <span class="small text-gold d-block mb-1">MANTRA (11 BAAR)</span>
                    <strong style="font-size:1.1rem">${p.mantra}</strong>
                </div>
            </div>`;

        document.getElementById("personalContent").style.display = "block";
        db.ref('astroLeads').push({ name, mulank: m, bhagyank: b, time: new Date().toLocaleString() });

        db.ref('astroSettings').once('value', snap => {
            if(snap.val()?.mode === "Premium (Locked)") {
                document.getElementById("personalContent").classList.add("blur-lock");
                document.getElementById("unlockBox").style.display = "block";
            }
        });
    }

    function unlockReport() {
        db.ref('astroSettings/vip').once('value', s => {
            if(prompt("Enter VIP Code:") === s.val()) {
                document.getElementById("personalContent").classList.remove("blur-lock");
                document.getElementById("unlockBox").style.display = "none";
            } else { alert("Wrong Code!"); }
        });
    }
</script>
</body>
</html>
